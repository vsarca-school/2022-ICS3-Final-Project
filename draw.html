<html>

<body>
    <style>
        #canvas_div {
            text-align: center;
            display: block;
            margin-left: auto;
            margin-right: auto;
        }

        canvas {
            border: 2px solid black;
        }
    </style>

    <div id="canvas_div" style="overflow-x: auto;">
        <canvas id="canvas" width="560" height="560"></canvas>
        <button onclick="javascript:clearArea();return false;">Clear Area</button>
        Line width : <select id="selWidth">
            <option value="11">11</option>
            <option value="13" selected="selected">13</option>
            <option value="15">15</option>
        </select>
        Color : <select id="selColor">
            <option value="black">black</option>
            <option value="blue" selected="selected">blue</option>
            <option value="red">red</option>
            <option value="green">green</option>
            <option value="yellow">yellow</option>
            <option value="gray">gray</option>
        </select>
    </div>

    <script>
        let arr = new Array(28);
        for (let i = 0; i < 28; i++) {
            arr[i] = new Array(28);
            console.log(arr[i]);
        }
        // When true, moving the mouse draws on the canvas
        let scale = 20;
        let drawing = false;
        let x = 0;
        let y = 0;
        let dist = 0;
        let max = Math.sqrt(2)*(scale/2);

        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
        ctx.fillStyle = "black";
        ctx.fillRect(0, 0, canvas.width, canvas.height);

        // event.offsetX, event.offsetY gives the (x,y) offset from the edge of the canvas.

        // Add the event listeners for mousedown, mousemove, and mouseup
        canvas.addEventListener('mousedown', (e) => {
            drawing = true;
        });

        canvas.addEventListener('mousemove', (e) => {
            x = Math.floor(e.offsetX / scale);
            y = Math.floor(e.offsetY / scale);
            dist = Math.sqrt(((x * scale + x * scale + scale) / 2 - e.offsetX) ** 2 + ((y * scale + y * scale + scale) / 2 - e.offsetY)**2);
            console.log(x, y);
            console.log(dist);
            if (drawing) {
                ctx.fillStyle = "white";
                ctx.fillRect(x * scale, y * scale, scale, scale);
                console.log(x * scale, y * scale, x * scale + scale, y * scale + scale);
            }
        });

        canvas.addEventListener('mouseup', (e) => {
            drawing = false;
        });

        function drawLine(ctx, x1, y1, x2, y2) {
            ctx.beginPath();
            ctx.strokeStyle = "white";
            ctx.lineWidth = document.getElementById('selWidth').value;
            ctx.lineJoin = "round";
            ctx.moveTo(x1, y1);
            ctx.lineTo(x2, y2);
            ctx.closePath();
            ctx.stroke();
        }

        function clearArea() {
            ctx.fillStyle = "black";
            ctx.fillRect(0, 0, canvas.width, canvas.height);
        }
    </script>
</body>

</html>